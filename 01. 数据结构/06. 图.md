# 06. 图

>### 图图 快拿去罢！

## 1. 概念
图研究数据元素之间多对多的关系。

* **图**(*graph*)：图 $G$ 由 **顶点集** $V$(*vertex*) 和 **边集** $E$(*edge*) 组成，记为 $G=(V,E)$，其中 $V(G)$ 表示图 $G$ 中顶点的有限**非空集**;$E(G)$表示图$G$中顶点之间的关系（边）集合。

* 图的**阶**：若 $V=\{v_1,v_2,.., v_n\}$，则用 $|V|$ 表示图 $G$ 中顶点的个数，也称图 $G$ 的**阶**。

* $E=\{(u, v)|u∈V, v∈V\}$，用 $|E|$ 表示图 $G$ 中边的条数。

::: tip 
表可以空，树可以空，图不能空。图的顶点集V一定非空，但边集E可以为空。
:::
### 1. 无向图
* 若 $E$ 是无向边(简称边)的有限集合时，则图 $G$ 为无向图。
![Img](./FILES/06.%20图.md/img-20220921092442.png)

* **边**：边是顶点的无序对，记为$(v, w)$或$(w, v)$，因为$(v,w)$=$(w, v)$，其中 $v、w$ 是顶点。可以说顶点 $w$ 和顶点 $v$ 互为**邻接点**。边$(v, w)$依附于顶点 $w$ 和 $v$ ，或者说边$(v, w)$和顶点 $v、w$ **相关联**。

    * **权**(weight)：与图的边或弧相关的数。可以用来表示从一个顶点到另一个顶点的距离或耗费。带权图又称**网**。

* 顶点的**度**：依附于该顶点 $v$ 的边的条数。记作 $TD(v)$.
    * 对于无向图，所有顶点的度之和等于 $2|E|$。

    * 对于有向图，**入度**指以v为终点的有向边的数目，记作ID(v)。**出度**指以v为起点的有向边的数目，记作OD(v)。度等于出、入度之和。

### 2. 有向图
![Img](./FILES/06.%20图.md/img-20220921092518.png)

* 若 $E$ 是有向边(也称弧）的有限集合时，则图 $G$ 为有向图。

* **弧**：弧是顶点的有序对，记为$<v, w>$，其中 $v$、$w$ 是顶点，$v$ 称为弧尾，$w$ 称为弧头，$<v, w>$ 称为从顶点 $v$ 到顶点 $w$ 的弧，也称 $v$ 邻接到 $w$，或 $w$ 邻接自 $v$。
    $<v, w>≠<w, v>$



### 3. 点到点的关系
* 存在一条边或至少一条弧的两个顶点互为邻接点。
* **路径**：顶点 $v_a$ 到 $v_b$ 的一条路径是指顶点序列$v_a,v_1,v_2,...v_b$。
    * 路径长度：路径上边的数量。
* 回路：第一个顶点和最后一个顶点相同的路径，又称**环**。
    * 若 $|E|＞n-1$，则一定有回路。
* 简单路径：顶点不重复出现的路径。

* 简单回路：除第一个和最后一个顶点，顶点不重复出现的回路。

* 点到点的距离：若从顶点u到v存在最短路径，则称该路径的长度为u到v的**距离**。否则称距离为无穷。

* **带权路径长度**：当图是带权图时，一条路径上所有权值之和，称为该路径的带权路径长度。

### 4. 连通图
* **连通**：无向图中，若任意两个顶点之间存在**路径**，则称顶点之间是**连通**的，此图是**连通图**。
    * 连通的必要条件：n个顶点，至少n-1条边
* **连通分量**：**非连通**无向图中的**各个极大连通子图**称为**连通分量**。它作为单个子图包含尽可能多的顶点和边。
    * **极大**的含义：指的是对子图再增加图 $G$ 中的其它顶点，子图就不再连通。
* **强连通**： **有向图**中，若任意两个顶点 $uv$ 之间存在$v到u$，和$u到v$的路径，称之为强连通的。该图为强连通图。
    * **强连通分量**：**非连通**有向图中的各个 **极大强连通子图**称为连通分量。子图必须强连通，并且包含尽可能多的顶点和边。单个顶点也可构成强连通分量。

* **连通图**：若图中任意两个顶点都是连通的，称之为连通图。否则为非连通图。
    * 若有 n 个顶点的无向图 $G$ 是连通图，则**最少**有`n-1`条边。
    * 若 $G$ 是非连通图，则**最多**可能有 $C_{n-1}^2$ 条边。
    * 若 $G$ 是强连通图，则最少有 n 条边。

### 5. 图的局部

#### 子图

* **子图**：设有两个图 $G=(V,E)$ 和 $G'= (V',E')$，若 $V'$ 是 $V$ 的子集，且 $E'$ 是 $E$ 的子集，则称 $G'$ 是 $G$ 的子图。

* 生成子图：若有满足 $V(G')= V(G)$ 的子图 $G'$，则称其为 $G$ 的生成子图。

#### 生成树、生成森林
* 无向连通图的**生成树**：包含图中**全部顶点**的一个**极小连通子图**。边尽可能少，保持连通。

    * 若图中顶点数为n，边数为e；则它的生成树含有n个顶点和n-1条边。

    * 对生成树而言，若砍去它的一条边，则会变成非连通图，若加上一条边则会形成一个**回路**。

* 无向非连通图的生成森林：**各个连通分量的生成树**构成非连通图的生成森林。

* 树就是不存在回路且连通的无向图。

### 6. 几种特殊形态的图

#### 简单图、多重图

* 简单图：
    * 不存在重复边
    * 不存在顶点到自身的边

* 多重图：
    * 存在重复边
    * 存在顶点到自身的边

#### 稀疏图、稠密图
边数很少（$|E|＜|V|log|V|$）的图称为稀疏图，反之称为稠密图。

#### 完全图
* 任意两个顶点之间都存在**边**的图。

* 对于一个 $n$ 个顶点的无向图，$|E|∈[0,{n(n-1)\over2}]$。有 $C_{n}^2={n(n-1)\over2}$ 条边的无向图称为完全图。

* 对于一个 $n$ 个顶点的有向图，$|E|∈[0,{n(n-1)}]$。有 ${n(n-1)}$ 条边的有向图称为有向完全图。

## 2. 图的存储

### 1. 邻接矩阵

* 图的邻接矩阵（不带权）
$$A[i][j] = \begin{cases}
   0 &\text{if } (i,j)\notin E(G) \\
   1 &\text{if } (i,j)\in E(G)
\end{cases}$$

* 无向图数组表示法特点：
    * 适合存储稠密图
    * 无向图邻接矩阵是**对称矩阵**，同一条边表示了两次；
    * 顶点 $v$ 的度：在无向图中等于二维数组对应行（或列）中1的个数；在有向图中, 统计第 i 行 1 的个数可得顶点 i 的出度，统计第 j 列 1 的个数可得顶点 j 的入度。
    * 判断两顶点$v、u$是否为**邻接点**：只需判二维数组对应分量是否为1；
    * 顶点不变，在图中增加、删除边：只需对二维数组对应分量赋值1或清0； 5）设存储顶点的一维数组大小为n(图的顶点数n), G占用存储空间：n+n2；G占用存储空间只与它的顶点数有关，与边数无关；适用于边稠密的图；
    * 设图 $G$ 的邻接矩阵为 $A$（矩阵元素为0/1)，则$A^n$的元素$A^n[i][j]$等于由顶点 $i$ 到顶点 $j$ 的长度为 $n$ 的路径的**数目**。

```c
#define MaxVertexNum 100							//顶点数目最大值
typedef char VertexType;							//顶点数据类型
typedef int EdgeType;								//边的权值数据类型
typedef struct{
	VertexType Vex[MaxVertexNum];					//顶点表
	EdgeType Edge[MaxVertexNum][MaxVertexNum];		//邻接矩阵，边表
	int vexnum,arcum;								//图的当前顶点数和弧数
}NGraph;
```

* 网的邻接矩阵
$$A.edge[i][j] = \begin{cases}
   W(i,j) &\text{if } (i≠j)且(i,j)或<i,j>\in E(G) \\
   ∞ &\text{if } (i≠j)且(i,j)或<i,j>\notin E(G)\\
   0 &\text{if } (i=j)
\end{cases}$$
![Img](./FILES/06.%20图.md/img-20220921104122.png)

### 2. 邻接表
邻接表( `Adjacency List` )是图的一种**顺序存储与链式存储**结合的存储方法。邻接表表示法类似于树的孩子链表表示法。就是对于图$G$中的每个顶点$v_i$，该方法将所有邻接于$v_i$的顶点$v_j$链成一个单链表，这个单链表就称为顶点$v_i$的邻接表。再将所有点的邻接表表头放到数组中，就构成了图的邻接表。

* 邻接表法特点
    * 表头向量中每个分量就是一个单链表的头结点，分量个数就是图中的顶点数目；
    * 在边或弧稀疏的条件下，用邻接表表示比用邻接矩阵表示节省存储空间；
    * 在无向图，顶点$V_i$的度是第$i$个链表的结点数；
    对有向图可以建立正邻接表或逆邻接表。正邻接表是以顶点 $V_i$ 为出度(即为弧的起点)而建立的邻接表；逆邻接表是以顶点 $V_i$ 为入度(即为弧的终点)而建立的邻接表；
    * 在有向图中，第i个链表中的结点数是顶点 $V_i$ 的 出 (或入)度；求入 (或出)度，须遍历整个邻接表；
    * 在邻接表上容易找出任一顶点的第一个邻接点和下一个邻接点；

### 3. 十字链表
* 存储有向图
易，略。
### 4. 邻接多重表
* 存储无向图
易，略。

![Img](./FILES/06.%20图.md/img-20220923101442.png)

## 3. 图的基本操作
